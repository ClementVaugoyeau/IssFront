

<div id="container" class="mat-elevation-z4">
  

  <cdk-accordion class="example-accordion">
    <cdk-accordion-item
      *ngFor="let item of items; let index = index;"
      #accordionItem="cdkAccordionItem"
      class="example-accordion-item"
      role="button"
      tabindex="0"
      [attr.id]="'accordion-header-' + index"
      [attr.aria-expanded]="accordionItem.expanded"
      [attr.aria-controls]="'accordion-body-' + index">
      <div class="example-accordion-item-header" (click)="accordionItem.toggle()">
        {{ item }}
        <span class="example-accordion-item-description">
           {{ accordionItem.expanded ? 'Masquer le formulaire' : 'Cliquer pour ajouter un astronaute' }}
        </span>
      </div>
      <div
        class="example-accordion-item-body"
        role="region"
        [style.display]="accordionItem.expanded ? '' : 'none'"
        [attr.id]="'accordion-body-' + index"
        [attr.aria-labelledby]="'accordion-header-' + index">
       <app-add-form></app-add-form>
      </div>
    </cdk-accordion-item>
  </cdk-accordion>
  
  

  <table mat-table [dataSource]="astronautsDetails" class="mat">
    

    <!-- Id Column -->
  <ng-container matColumnDef="No">
    <th mat-header-cell *matHeaderCellDef> No </th>
    <td mat-cell *matCellDef="let element; let i = index"> {{i + 1}} </td>
  </ng-container>
    
   <!-- Name Column -->
  <ng-container matColumnDef="name">
    <th mat-header-cell *matHeaderCellDef> Nom </th>
    
    <td mat-cell *matCellDef="let element"> 
      <div *ngIf="!element.isEdit">{{element.name}} </div>
        
      <div *ngIf="element.isEdit">
          <input type="text" [(ngModel)]="element.name" />
      </div>
    
    </td>
  </ng-container>

  <!-- Weight Column -->
  <ng-container matColumnDef="role">
    <th mat-header-cell *matHeaderCellDef> Role </th>

    <td mat-cell *matCellDef="let element"> 
      
      <div *ngIf="!element.isEdit">{{element.role}}</div>

      <div *ngIf="element.isEdit">
        <input  type="text" [(ngModel)]="element.role" />
      </div>

    </td>
  </ng-container>

  <!-- Symbol Column -->
  <ng-container matColumnDef="nationality">
    <th mat-header-cell *matHeaderCellDef> Nationalit√© </th>
    
    <td mat-cell *matCellDef="let element"> 
      
      <div *ngIf="!element.isEdit">{{element.nationality}} </div>
        
      <div *ngIf="element.isEdit">
          <input type="text" [(ngModel)]="element.nationality" />
      </div>

    </td>
    
  </ng-container>

  <ng-container matColumnDef="actions">
    <th mat-header-cell *matHeaderCellDef>  </th>
    <td mat-cell *matCellDef="let element"> 

      <div *ngIf="element.isEdit">
        <button  mat-raised-button (click)=updateAstronautAstronaut(element) >Update</button> 
        <button  mat-raised-button (click)="element.isEdit = false">Cancel</button> 
      </div>

      <div *ngIf="!element.isEdit">
        <button  mat-raised-button (click)="onEdit(element)"> Edit </button> 
      </div>

    </td>
  </ng-container>

 
  <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
  <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
</table>



</div>
